<script src='/division/jquery.loadTemplate.min.js'></script>

<script language='javascript'>
  function renderItem(item) {
    container = jQuery('#division-' + item.type + 's');
    template  = jQuery('#division-' + item.type);
    container.loadTemplate(template, item, {append:true});
  }

  function ajaxSuccess(data, textStatus, jqXHR) {
    data.forEach(renderItem);
  }

  function ajaxError(jqXHR, textStatus, errorThrown) {
    alert(errorThrown.message);
  }

  function loadData(url) {
    jQuery.ajax({url: url}).done(ajaxSuccess).fail(ajaxError)
  }

loadData('/division/gear.json?20210112');
loadData('/division/weapons.json?20210112');
loadData('/division/mods.json?20210112');

</script>

<script type='text/html' id='division-gear'>
<div class="col span_1_of_4">
      <table class="table-division">
        <tbody>
          <tr><th data-class='rarity' data-content='name' colspan="3"></th></tr>
          <tr><td data-content='brand' class="cell-high" colspan="3"></td></tr>
          <tr><td data-content='vendor' style="text-align: center;font-weight:600;" colspan="3"></td></tr>
          <tr>
            <td style="text-align: center;">Slot</td>
            <td style="text-align: center;" colspan="2">Armor</td>
          </tr>
          <tr>
            <td data-content='slot' style="text-align: center;"></td>
            <td data-content='armor' style="text-align: center;" colspan="2"></td>
          </tr>
          <tr><td data-content='core' colspan="3"></td></tr>
          <tr><td data-content='attributes' colspan="3"></td></tr>
          <tr><td data-content='talents' colspan="3"></td></tr>
        </tbody>
      </table>
</div>
</script>

<script type='text/html' id='division-weapon'>
<div class="col span_1_of_4">
      <table class="table-division">
        <tbody>
          <tr><th data-class='rarity' data-content='name' colspan="3"></th></tr>
          <tr><td data-content='vendor' class="cell-high" colspan="3"></td></tr>
          <tr>
            <td style="text-align: center;" colspan="1">Level</td>
            <td style="text-align: center;" colspan="2">Talent</td>
          </tr>
          <tr>
            <td data-content='level' style="text-align: center;"></td>
            <td data-content='talent' style="text-align: center;" colspan="2"></td>
          </tr>
          <tr>
            <td style="text-align: center;">DMG</td>
            <td style="text-align: center;">RPM</td>
            <td style="text-align: center;">MAG</td>
          </tr>
          <tr>
            <td data-content='dmg' style="text-align: center;" id="damage"></td>
            <td data-content='rpm' style="text-align: center;"></td>
            <td data-content='mag' style="text-align: center;"></td>
          </tr>
          <tr>
            <td data-content='attribute1' colspan="3"></td>
          </tr>
          <tr>
            <td data-content='attribute2' colspan="3"></td>
          </tr>
          <tr>
            <td data-content='attribute3' colspan="3"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </script>

<script type='text/html' id='division-mod'>
<div class="col span_1_of_4">
        <table class="table-division">
        <tbody>
            <tr><th data-class='rarity' data-content='name' colspan="3"></th></tr>
            <tr><td data-content='vendor' style="text-align: center;font-weight:600;" colspan="3"></td></tr>
            <tr><td data-content='attributes' colspan="3"></td></tr>
        </tbody>
        </table>
</div>
</script>